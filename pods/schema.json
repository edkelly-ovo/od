{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["name", "leadership", "solutions", "teams"],
  "properties": {
    "name": {
      "type": "string",
      "description": "Name of the pod"
    },
    "leadership": {
      "type": "array",
      "description": "Array of leadership names",
      "items": {
        "type": "string"
      }
    },
    "solutions": {
      "type": "array",
      "description": "Array of solutions the pod works on",
      "items": {
        "type": "object",
        "required": ["name", "description"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the solution"
          },
          "description": {
            "type": "string",
            "description": "Description of the solution"
          }
        }
      }
    },
    "teams": {
      "type": "array",
      "description": "Array of teams within the pod",
      "items": {
        "type": "object",
        "required": ["name", "members"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the team"
          },
          "supporting": {
            "type": "array",
            "description": "Array of wider pod-members who support the team but are not present within it",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": ["string", "null"],
                  "description": "Supporting member's full name"
                },
                "email": {
                  "type": ["string", "null"],
                  "format": "email",
                  "description": "Supporting member's email address"
                },
                "role": {
                  "type": "string",
                  "description": "Supporting member's role"
                },
                "roleGroup": {
                  "type": "string",
                  "description": "Group/category the supporting member's role belongs to"
                }
              }
            }
          },
          "members": {
            "type": "array",
            "description": "Array of team members",
            "items": {
              "type": "object",
              "required": ["role", "roleGroup", "contractType"],
              "properties": {
                "name": {
                  "type": ["string", "null"],
                  "description": "Member's full name (nullable for vacancies)"
                },
                "email": {
                  "type": ["string", "null"],
                  "format": "email",
                  "description": "Member's email address (nullable)"
                },
                "role": {
                  "type": "string",
                  "description": "Member's role"
                },
                "roleGroup": {
                  "type": "string",
                  "description": "Group/category the role belongs to"
                },
                "contractType": {
                  "type": "string",
                  "description": "Type of employment contract",
                  "enum": [
                    "Permanent",
                    "3rd Party Partner",
                    "Vacancy"
                  ]
                },
                "careerSkillset": {
                  "type": "array",
                  "description": "Array of career-level skills",
                  "items": {
                    "type": "string"
                  }
                },
                "teamSkillset": {
                  "type": "array",
                  "description": "Array of team-level skills",
                  "items": {
                    "type": "string"
                  }
                },
                "dailySkillset": {
                  "type": "array",
                  "description": "Array of daily-use skills (primary and secondary)",
                  "items": {
                    "type": "string"
                  }
                },
                "generalCompetencies": {
                  "type": "array",
                  "description": "Array of general competencies",
                  "items": {
                    "type": "string"
                  }
                },
                "supplier": {
                  "type": ["string", "null"],
                  "description": "Supplier name for 3rd Party Partner contract type (optional)"
                },
                "onLeave": {
                  "type": "boolean",
                  "description": "Whether the member is currently on leave (optional)"
                }
              },
              "if": {
                "properties": {
                  "contractType": {
                    "const": "3rd Party Partner"
                  }
                }
              },
              "then": {
                "properties": {
                  "supplier": {
                    "type": ["string", "null"]
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

